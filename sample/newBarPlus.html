<!doctype html>
<html>
<head>
  <title>Bar Chart</title>
  <script src="../node_modules/chart.js/dist/Chart.js"></script>
  <script src="../barplus.js"></script>
  <style type="text/css">
    canvas {
      border: 1px solid grey;
    }
  </style>
</head>

<body>
  <div id="container" style="width: 50%; height: 25%;">
    <canvas id="vBar" height="450" width="600"></canvas>
    <hr>
    <canvas id="hBar" height="450" width="600"></canvas>
  </div>
  <script>
    const verticalDataSet = {
      label: 'V Dataset',
      data: [
        {
          y: 10.5,
          error: 5.3,
          thickness: 5,
          insignificant: false,
        },
        {
          y: 9.24,
          error: 2.9,
          thickness: 200,
          insignificant: true
        }, {
          y: 20,
          error: 3.9,
          thickness: 40,
          insignificant: false,
        }, {
          y: -29,
          error: 6.9,
          thickness: 20,
          insignificant: false,
        }, {
          y: 16,
          error: 2.9,
          thickness: 8,
          insignificant: true,
        }, {
          y: 18,
          error: 4,
          thickness: 8,
          insignificant: false,
        }
      ],
      backgroundColor: "rgba(151,187,205,0.5)"

    }
    const horizontalDataSet = {
      label: 'H Dataset',
      data: [
        {
          x: 10.5,
          error: 5.3,
          thickness: 5,
          insignificant: false,
        },
        {
          x: 9.24,
          error: 2.9,
          thickness: 200,
          insignificant: true
        }, {
          x: 20,
          error: 3.9,
          thickness: 40,
          insignificant: false,
        }, {
          x: -29,
          error: 6.9,
          thickness: 20,
          insignificant: false,
        }, {
          x: 16,
          error: 2.9,
          thickness: 8,
          insignificant: true,
        }, {
          x: 18,
          error: 4,
          thickness: 8,
          insignificant: false,
        }
      ],
      backgroundColor: "rgba(151,187,205,0.5)"

    }
    const options = {
      legend: {
        display: false,
      },
      title: {
        display: true,
        text: 'Custom Barplus Chart'
      },
      errorBars: {
        show: true,
        animate: true,
        color: 'rgba(255, 132, 96)',
        width: 2,
        insignificantColor: 'rgba(200, 200, 200, 0.8)'
      },
      barThickness: {
        min: 10,
        max: 50,
      }
    }
    window.onload = function() {
      var vCtx = document.getElementById("vBar").getContext("2d");
      window.vBar = new Chart(vCtx, {
        type: 'barPlus',
        data: {
          datasets: [verticalDataSet],
          labels: ['Jan', 'Feb', 'March', 'April', 'May', 'June']
        },
        options,
      });
      var hCtx = document.getElementById("hBar").getContext("2d");
      window.hBar = new Chart(hCtx, {
        type: 'horizontalBarPlus',
        data: {
          datasets: [horizontalDataSet],
          labels: ['Jan', 'Feb', 'March', 'April', 'May', 'June']
        },
        options,
      });
    };
  </script>
</body>

</html>
